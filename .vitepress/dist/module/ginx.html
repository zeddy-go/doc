<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ginx | zeddy</title>
    <meta name="description" content="A Convenient Framework">
    <meta name="generator" content="VitePress v1.1.3">
    <link rel="preload stylesheet" href="/doc/assets/style.DeIyO9fO.css" as="style">
    
    <script type="module" src="/doc/assets/app.C2yS8iqI.js"></script>
    <link rel="preload" href="/doc/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/doc/assets/chunks/framework.C9InrCCS.js">
    <link rel="modulepreload" href="/doc/assets/chunks/theme.BcV5UMKC.js">
    <link rel="modulepreload" href="/doc/assets/chunks/katex.rPiVaalG.js">
    <link rel="modulepreload" href="/doc/assets/chunks/c4Diagram-b2a90758.CykR4N-c.js">
    <link rel="modulepreload" href="/doc/assets/chunks/flowDiagram-5540d9b9.C08RTu7f.js">
    <link rel="modulepreload" href="/doc/assets/chunks/flowDiagram-v2-3b53844e.BXNkGIxX.js">
    <link rel="modulepreload" href="/doc/assets/chunks/erDiagram-47591fe2.SY7QcDQB.js">
    <link rel="modulepreload" href="/doc/assets/chunks/gitGraphDiagram-96e6b4ee.ZPLQphTb.js">
    <link rel="modulepreload" href="/doc/assets/chunks/ganttDiagram-9a3bba1f.DcqftBEn.js">
    <link rel="modulepreload" href="/doc/assets/chunks/infoDiagram-bcd20f53.yDgoEDVx.js">
    <link rel="modulepreload" href="/doc/assets/chunks/pieDiagram-79897490.Bknok-rS.js">
    <link rel="modulepreload" href="/doc/assets/chunks/quadrantDiagram-62f64e94.B0yz_sI8.js">
    <link rel="modulepreload" href="/doc/assets/chunks/xychartDiagram-ab372869.Bqwhk9ec.js">
    <link rel="modulepreload" href="/doc/assets/chunks/requirementDiagram-05bf5f74.C9WN2seU.js">
    <link rel="modulepreload" href="/doc/assets/chunks/sequenceDiagram-acc0e65c.D0vH57ko.js">
    <link rel="modulepreload" href="/doc/assets/chunks/classDiagram-30eddba6.DEI2Muh2.js">
    <link rel="modulepreload" href="/doc/assets/chunks/classDiagram-v2-f2df5561.B-sBcI4S.js">
    <link rel="modulepreload" href="/doc/assets/chunks/stateDiagram-0ff1cf1a.BNcdFZdX.js">
    <link rel="modulepreload" href="/doc/assets/chunks/stateDiagram-v2-9a9d610d.BRn205aL.js">
    <link rel="modulepreload" href="/doc/assets/chunks/journeyDiagram-4fe6b3dc.B-0DrRwu.js">
    <link rel="modulepreload" href="/doc/assets/chunks/flowchart-elk-definition-5fe447d6.Dl5WamZS.js">
    <link rel="modulepreload" href="/doc/assets/chunks/timeline-definition-fea2a41d.B7y9HJNO.js">
    <link rel="modulepreload" href="/doc/assets/chunks/mindmap-definition-f354de21.DLa5zPPe.js">
    <link rel="modulepreload" href="/doc/assets/chunks/sankeyDiagram-97764748.BSF0Vdpn.js">
    <link rel="modulepreload" href="/doc/assets/chunks/blockDiagram-91b80b7a.Btav0sna.js">
    <link rel="modulepreload" href="/doc/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/doc/assets/module_ginx.md.B5fiqbhn.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9c7f7752><!--[--><!--]--><!--[--><span tabindex="-1" data-v-2d33b4df></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-2d33b4df> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9c7f7752 data-v-d0a903a0><div class="VPNavBar has-sidebar top" data-v-d0a903a0 data-v-ebf5a18f><div class="wrapper" data-v-ebf5a18f><div class="container" data-v-ebf5a18f><div class="title" data-v-ebf5a18f><div class="VPNavBarTitle has-sidebar" data-v-ebf5a18f data-v-578e83d2><a class="title" href="/doc/" data-v-578e83d2><!--[--><!--]--><!----><span data-v-578e83d2>zeddy</span><!--[--><!--]--></a></div></div><div class="content" data-v-ebf5a18f><div class="content-body" data-v-ebf5a18f><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ebf5a18f><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ebf5a18f data-v-5fd6f505><span id="main-nav-aria-label" class="visually-hidden" data-v-5fd6f505>Main Navigation</span><!--[--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-ebf5a18f data-v-392d217e data-v-4ba2b2ec><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-4ba2b2ec><span class="text" data-v-4ba2b2ec><span class="vpi-languages option-icon" data-v-4ba2b2ec></span><!----><span class="vpi-chevron-down text-icon" data-v-4ba2b2ec></span></span></button><div class="menu" data-v-4ba2b2ec><div class="VPMenu" data-v-4ba2b2ec data-v-457145fc><!----><!--[--><!--[--><div class="items" data-v-392d217e><p class="title" data-v-392d217e>English</p><!--[--><div class="VPMenuLink" data-v-392d217e data-v-ca935efd><a class="VPLink link" href="/doc/zh/module/ginx.html" data-v-ca935efd><!--[-->中文<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-ebf5a18f data-v-f327893e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-f327893e data-v-b6484a4d data-v-b2e69d8e><span class="check" data-v-b2e69d8e><span class="icon" data-v-b2e69d8e><!--[--><span class="vpi-sun sun" data-v-b6484a4d></span><span class="vpi-moon moon" data-v-b6484a4d></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ebf5a18f data-v-8c8ee13a data-v-eae296d0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/zeddy-go/zeddy" aria-label="github" target="_blank" rel="noopener" data-v-eae296d0 data-v-7437008b><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ebf5a18f data-v-0c7d884a data-v-4ba2b2ec><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-4ba2b2ec><span class="vpi-more-horizontal icon" data-v-4ba2b2ec></span></button><div class="menu" data-v-4ba2b2ec><div class="VPMenu" data-v-4ba2b2ec data-v-457145fc><!----><!--[--><!--[--><div class="group translations" data-v-0c7d884a><p class="trans-title" data-v-0c7d884a>English</p><!--[--><div class="VPMenuLink" data-v-0c7d884a data-v-ca935efd><a class="VPLink link" href="/doc/zh/module/ginx.html" data-v-ca935efd><!--[-->中文<!--]--></a></div><!--]--></div><div class="group" data-v-0c7d884a><div class="item appearance" data-v-0c7d884a><p class="label" data-v-0c7d884a>Appearance</p><div class="appearance-action" data-v-0c7d884a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-0c7d884a data-v-b6484a4d data-v-b2e69d8e><span class="check" data-v-b2e69d8e><span class="icon" data-v-b2e69d8e><!--[--><span class="vpi-sun sun" data-v-b6484a4d></span><span class="vpi-moon moon" data-v-b6484a4d></span><!--]--></span></span></button></div></div></div><div class="group" data-v-0c7d884a><div class="item social-links" data-v-0c7d884a><div class="VPSocialLinks social-links-list" data-v-0c7d884a data-v-eae296d0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/zeddy-go/zeddy" aria-label="github" target="_blank" rel="noopener" data-v-eae296d0 data-v-7437008b><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ebf5a18f data-v-0d79d714><span class="container" data-v-0d79d714><span class="top" data-v-0d79d714></span><span class="middle" data-v-0d79d714></span><span class="bottom" data-v-0d79d714></span></span></button></div></div></div></div><div class="divider" data-v-ebf5a18f><div class="divider-line" data-v-ebf5a18f></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-9c7f7752 data-v-c186d97c><div class="container" data-v-c186d97c><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-c186d97c><span class="vpi-align-left menu-icon" data-v-c186d97c></span><span class="menu-text" data-v-c186d97c>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-c186d97c data-v-a6768510><button data-v-a6768510>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-9c7f7752 data-v-287624f6><div class="curtain" data-v-287624f6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-287624f6><span class="visually-hidden" id="sidebar-aria-label" data-v-287624f6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-287624f6><section class="VPSidebarItem level-0 has-active" data-v-287624f6 data-v-280cc9f4><!----><div class="items" data-v-280cc9f4><!--[--><div class="VPSidebarItem level-1 is-link" data-v-280cc9f4 data-v-280cc9f4><div class="item" data-v-280cc9f4><div class="indicator" data-v-280cc9f4></div><a class="VPLink link link" href="/doc/quickstart.html" data-v-280cc9f4><!--[--><p class="text" data-v-280cc9f4>quick start</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1" data-v-280cc9f4 data-v-280cc9f4><div class="item" role="button" tabindex="0" data-v-280cc9f4><div class="indicator" data-v-280cc9f4></div><h3 class="text" data-v-280cc9f4>concept</h3><!----></div><div class="items" data-v-280cc9f4><!--[--><div class="VPSidebarItem level-2 is-link" data-v-280cc9f4 data-v-280cc9f4><div class="item" data-v-280cc9f4><div class="indicator" data-v-280cc9f4></div><a class="VPLink link link" href="/doc/concept/ioc.html" data-v-280cc9f4><!--[--><p class="text" data-v-280cc9f4>IoC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-280cc9f4 data-v-280cc9f4><div class="item" data-v-280cc9f4><div class="indicator" data-v-280cc9f4></div><a class="VPLink link link" href="/doc/concept/module.html" data-v-280cc9f4><!--[--><p class="text" data-v-280cc9f4>module</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 has-active" data-v-280cc9f4 data-v-280cc9f4><div class="item" role="button" tabindex="0" data-v-280cc9f4><div class="indicator" data-v-280cc9f4></div><h3 class="text" data-v-280cc9f4>module list</h3><!----></div><div class="items" data-v-280cc9f4><!--[--><div class="VPSidebarItem level-2 is-link" data-v-280cc9f4 data-v-280cc9f4><div class="item" data-v-280cc9f4><div class="indicator" data-v-280cc9f4></div><a class="VPLink link link" href="/doc/module/configx.html" data-v-280cc9f4><!--[--><p class="text" data-v-280cc9f4>configx</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-280cc9f4 data-v-280cc9f4><div class="item" data-v-280cc9f4><div class="indicator" data-v-280cc9f4></div><a class="VPLink link link" href="/doc/module/ginx.html" data-v-280cc9f4><!--[--><p class="text" data-v-280cc9f4>ginx</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-9c7f7752 data-v-b9757b05><div class="VPDoc has-sidebar has-aside" data-v-b9757b05 data-v-7a01fee6><!--[--><!--]--><div class="container" data-v-7a01fee6><div class="aside" data-v-7a01fee6><div class="aside-curtain" data-v-7a01fee6></div><div class="aside-container" data-v-7a01fee6><div class="aside-content" data-v-7a01fee6><div class="VPDocAside" data-v-7a01fee6 data-v-6e0967a7><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-6e0967a7 data-v-11795add><div class="content" data-v-11795add><div class="outline-marker" data-v-11795add></div><div class="outline-title" role="heading" aria-level="2" data-v-11795add>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-11795add><span class="visually-hidden" id="doc-outline-aria-label" data-v-11795add> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-11795add data-v-e4d379d6><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-6e0967a7></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7a01fee6><div class="content-container" data-v-7a01fee6><!--[--><!--]--><main class="main" data-v-7a01fee6><div style="position:relative;" class="vp-doc _doc_module_ginx" data-v-7a01fee6><div><h1 id="ginx" tabindex="-1">ginx <a class="header-anchor" href="#ginx" aria-label="Permalink to &quot;ginx&quot;">​</a></h1><p>The <code>ginx</code> module is used to handle corresponding requests with a given handler, with an underlying Gin framework. The module encapsulates the routing operations of Gin, enabling the characteristic of not limiting the list of input and output parameters for handler methods. The <code>ginx</code> module provides two option methods upon instantiation:</p><ul><li><code>ginx.WithCustomEngine</code> is used for using a custom instance of Gin.</li><li><code>ginx.WithPrefix</code> is used to set the level at which to read the configuration, with the default being the root level.</li></ul><p>Upon initialization, the <code>ginx</code> module registers itself with the container as an interface type of <code>ginx.Router</code>.</p><h2 id="handler-parameters" tabindex="-1">Handler Parameters <a class="header-anchor" href="#handler-parameters" aria-label="Permalink to &quot;Handler Parameters&quot;">​</a></h2><p><code>ginx</code>, when transferring a request to the corresponding <code>handler</code>, will iterate over the parameters through reflection. If the parameter type can be found in the container, then the object from the container is used for passing the argument. If the parameter type cannot be found in the container, it attempts to parse the request to obtain it.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//-----------userHandler-----------------</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Parse Request</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HelloReq</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Identical to gin&#39;s definition</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Username </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `form:&quot;username&quot; binding:&quot;required&quot;`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HelloResp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Text </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;text&quot;`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HelloReq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Retrieve Object from Container</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">viper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Viper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Can also do both, the order does not matter.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HelloReq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">viper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Viper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//----------------module.Boot--------------------</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> container.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ginx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, userHandler.Hello)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Additionally, <code>ginx</code> has defined some specific parameter types to simplify the code:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Directly obtain the Gin Context object.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Retrieve pagination, parsing the two fields named `page` and `size` from the URL query string.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">page</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ginx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Retrieve filter conditions by parsing all fields in the URL query string that are in the format of `filters[xxx]`.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// The `ginx.Filters` type can convert these fields into query conditions understandable by the `gormx` module.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">filters</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ginx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Filters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Retrieve sorting conditions by parsing all fields in the URL query string that are in the format of `sorts[xxx]`.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// The `ginx.Sorts` type can convert these fields into sorting conditions understandable by the `gormx` module.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">sorts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ginx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sorts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span></code></pre></div><p>Just like the previous examples, these examples can also be included together as parameters for the same <code>handler</code>.</p><h2 id="handler-outputs" tabindex="-1">Handler Outputs <a class="header-anchor" href="#handler-outputs" aria-label="Permalink to &quot;Handler Outputs&quot;">​</a></h2><p>Although the outputs are still variable, outputs must follow certain rules for <code>ginx</code> to correctly process them and return the appropriate response.</p><p>The default response structure used by <code>ginx</code> adheres to the RESTful style.</p><p>Firstly, there may be no output parameters, in which case <code>ginx</code> will assume that the function will always execute successfully without a response body, and the returned <code>HTTP status code</code> will be 204.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>HttpStatusCode: 204</span></span>
<span class="line"><span>body: (none)</span></span></code></pre></div><p>In cases where there are output parameters, the last one must always be of the <code>error</code> type. <code>ginx</code> will determine the response <code>HTTP status code</code> by checking whether the error is nil. When the error is not nil, the default <code>HTTP status code</code> is 500.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>HttpStatusCode: 500</span></span>
<span class="line"><span>body: {&quot;message&quot;: err.Error(), &quot;data&quot;: null}</span></span></code></pre></div><p>If you use the errors returned by the <code>errx</code> package, you will be able to customize the <code>HTTP status code</code> and details:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">errx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">New</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;The data is currently in use and cannot be deleted.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, errx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithDetailMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;detail&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;this is detail&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}), errx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(http.StatusConflict))  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//This will set the status code to 409.</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>HttpStatusCode: 409</span></span>
<span class="line"><span>body: {&quot;message&quot;: &quot;The data is currently in use and cannot be deleted.&quot;, &quot;data&quot;: {&quot;detail&quot;: &quot;this is detail&quot;}}</span></span></code></pre></div><p>That is to say, when there is one output parameter, this parameter must be of the <code>error</code> type.</p><p>When there are two output parameters, the last one must be of the <code>error</code> type, and the first one is the data you wish to return. If the error is not nil, it behaves the same as the examples mentioned above. When the error is nil, the effect is as follows:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>HttpStatusCode: 200</span></span>
<span class="line"><span>body: {&quot;message&quot;: &quot;&quot;, &quot;data&quot;: &lt;Your response data&gt;}</span></span></code></pre></div><p>When there are three output parameters, the rules for the error are consistent with the above. The first output parameter is for metadata, and the second output parameter is for the data you wish to return. The metadata is either a struct that implements the <code>ginx.IMeta</code> interface or an integer (int). The integer represents the total number of records for pagination purposes:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>func (uh *UserHandler) Hello(page *ginx.Page) (total int, list []*Xxx, err error) {}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>will be returned:</span></span>
<span class="line"><span>HttpStatusCode: 200</span></span>
<span class="line"><span>body: {&quot;message&quot;: &quot;&quot;, &quot;data&quot;: &lt;Your response data&gt;, &quot;meta&quot;: {&quot;total&quot;: &lt;number&gt;}}</span></span></code></pre></div><p>And a struct that implements the <code>ginx.IMeta</code> interface will be converted into a JSON string. If it contains a field named code, that field will be used as the <code>HTTP status code</code> for the response:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>func (uh *UserHandler) Hello(page *ginx.Page) (meta ginx.IMeta, list []*any, err error) {</span></span>
<span class="line"><span>	return &amp;ginx.Meta{CurrentPage: 1, Code: http.StatusCreated}, []*any{}, nil</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>will be returned:</span></span>
<span class="line"><span>HttpStatusCode: 201</span></span>
<span class="line"><span>body: {&quot;message&quot;: &quot;&quot;, &quot;data&quot;: &lt;Your response data&gt;, &quot;meta&quot;: {&quot;currentPage&quot;: 1}}</span></span></code></pre></div><p>A maximum of three output parameters are allowed.</p><p>So, how is file download defined? The code is as follows:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HelloReq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">file</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ginx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    f, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/file.mp3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    content, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> io.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ReadAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ginx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NewFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(content)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-7a01fee6 data-v-9a032d81><!--[--><!--]--><!----><nav class="prev-next" data-v-9a032d81><div class="pager" data-v-9a032d81><a class="VPLink link pager-link prev" href="/doc/module/configx.html" data-v-9a032d81><!--[--><span class="desc" data-v-9a032d81>Previous page</span><span class="title" data-v-9a032d81>configx</span><!--]--></a></div><div class="pager" data-v-9a032d81><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"D5XJPeEI\",\"zh_concept_module.md\":\"BN80lJV5\",\"module_configx.md\":\"C87jjTPA\",\"markdown-examples.md\":\"BBFyeFKt\",\"quickstart.md\":\"Bpt8CVfy\",\"zh_index.md\":\"CLWadiwW\",\"zh_concept_ioc.md\":\"ktV6d4ar\",\"concept_module.md\":\"IQueO1ym\",\"zh_module_configx.md\":\"C6-Q-6UX\",\"concept_ioc.md\":\"CpXG-047\",\"zh_module_ginx.md\":\"Bm9FohXi\",\"api-examples.md\":\"BGcoxGv1\",\"module_ginx.md\":\"B5fiqbhn\",\"zh_quickstart.md\":\"YC0nSiTK\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"zeddy\",\"description\":\"A Convenient Framework\",\"base\":\"/doc/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[],\"sidebar\":{\"/\":[{\"text\":\"\",\"items\":[{\"text\":\"quick start\",\"link\":\"/quickstart\"},{\"text\":\"concept\",\"items\":[{\"text\":\"IoC\",\"link\":\"/concept/ioc.md\"},{\"text\":\"module\",\"link\":\"/concept/module.md\"}]},{\"text\":\"module list\",\"items\":[{\"text\":\"configx\",\"link\":\"/module/configx\"},{\"text\":\"ginx\",\"link\":\"/module/ginx\"}]}]}],\"/zh/\":[{\"text\":\"\",\"items\":[{\"text\":\"快速开始\",\"link\":\"/zh/quickstart\"},{\"text\":\"概念\",\"items\":[{\"text\":\"IoC\",\"link\":\"/zh/concept/ioc.md\"},{\"text\":\"模块\",\"link\":\"/zh/concept/module.md\"}]},{\"text\":\"模块列表\",\"items\":[{\"text\":\"configx\",\"link\":\"/zh/module/configx\"},{\"text\":\"ginx\",\"link\":\"/zh/module/ginx\"}]}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/zeddy-go/zeddy\"}]},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en\"},\"zh\":{\"label\":\"中文\",\"lang\":\"zh\"}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>